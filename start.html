<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>社用車 利用開始（実績登録）</title>
</head>
<body>

<h1>利用開始（実績登録）</h1>

<form
  method="POST"
  action="https://script.google.com/macros/s/AKfycbx1IiUG463iRqi1MQq1EkhEcnJ1Zra-8ywfQ7WBx3O2DcsfNlcDc4KOZZDLGTt/exec"
>

  <!-- calendar_id -->
  <input type="hidden" name="calendar_id" id="calendar_id">

  <div>
    <label>業務コード</label><br>
    <input type="text" name="job_code" id="job_code">
  </div>

  <div>
    <label>運転者</label><br>
    <input type="text" name="driver_name" id="driver_name">
  </div>

  <div>
    <label>開始日時</label><br>
    <input type="datetime-local" name="start_datetime" id="start_datetime">
  </div>

  <div>
    <label>酒気帯び確認</label><br>
    <select name="alcohol_check" required>
      <option value="">選択してください</option>
      <option value="0">問題なし</option>
      <option value="1">問題あり</option>
    </select>
  </div>

  <!-- 二重送信防止 -->
  <input type="hidden" name="submit_token" id="submit_token">

  <hr>

  <h3>予約情報（参照）</h3>
  <div id="reservation_info">
    （ここに予約情報を表示予定）
  </div>

  <hr>

  <button type="submit">利用開始を登録</button>

</form>

<script>
  // URL クエリ取得
  const params = new URLSearchParams(window.location.search);

  // calendar_id
  const calendarId = params.get("calendar_id");
  document.getElementById("calendar_id").value = calendarId;

  // submit_token
  document.getElementById("submit_token").value =
    crypto.randomUUID();

  // ※ 予約情報取得・初期値セットは次工程
</script>

</body>
</html>
