<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>社用車 利用実績入力</title>
</head>
<body>
  <h1>社用車 利用実績 入力（②フェーズ）</h1>
  <p>このページは実績入力の入口です。</p>
  <p id="vehicle-info"></p>
  <form id="usage-form">
    <!-- calendar_id は hidden で保持 -->
    <input type="hidden" name="calendar_id" id="calendar_id">
  
    <p>
      <label>
        運転者名：
        <input type="text" name="driver_name">
      </label>
    </p>
  
    <p>
      <button type="submit">送信（まだ保存されません）</button>
    </p>
  </form>
  <script>
    // URLクエリから calendar_id を取得
    const params = new URLSearchParams(window.location.search);
    const calendarId = params.get('calendar_id');
  
    const infoEl = document.getElementById('vehicle-info');
  
    if (calendarId) {
      infoEl.textContent = `車両ID（calendar_id）：${calendarId}`;
      document.getElementById('calendar_id').value = calendarId;
    } else {
      infoEl.textContent = '車両ID（calendar_id）が指定されていません。';
    }
    document.getElementById('usage-form').addEventListener('submit', (e) => {
      e.preventDefault();
    
      alert(
        '送信内容（仮）\n' +
        'calendar_id=' + document.getElementById('calendar_id').value + '\n' +
        'driver_name=' + document.querySelector('[name="driver_name"]').value
      );
    });
  </script>
</body>
</html>
